html_text()
precio <- precio[obs1]
# Leyendo el título y artista
titulo <- read_url %>%
html_nodes(".product-title") %>%
html_text();titulo
titulo  <- as.character(titulo[1])
titulo <- strsplit(titulo, split = "–")
titulo <- titulo[[1]]
artista <- titulo[1]
vinilo  <- titulo[2]
}
# Si la página es vinilospormayor
if(pag == "vinilospormayor"){
precio <- read_url %>%
html_nodes(".product__price") %>%
html_text()
precio <- substr(precio, start = 16, stop = 22)
titulo <- read_url %>%
html_nodes(".product-single__title") %>%
html_text()
tit <- titulo %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
artista <- paste(tit[1],"",tit[2],"",tit[3])           # Ajuste Manual
vinilo  <- paste(tit[4],"",tit[5]) # Ajuste Manual
}
# Creando data frame
nuevo_vinilo <- data.frame(artista, vinilo, precio, url)
# Guardando información
#vinilos_na <- read_excel("NA.xlsx") # solo para la primera vez
vinilos_na <- read_excel("vinilos.xlsx")
vinilos    <- rbind(vinilos_na, nuevo_vinilo) %>%
arrange(artista) %>%
filter(!is.na(precio))
vinilos <- distinct(vinilos)
# Exportando vinilo
wb <- createWorkbook()
addWorksheet(wb, sheetName = "vinilos", gridLines = TRUE)
writeData(wb = wb, sheet = "vinilos", x = vinilos)
saveWorkbook(wb = wb, file = "vinilos.xlsx",overwrite = TRUE)
vinilos
knitr::opts_chunk$set(echo = TRUE)
# Link ----------------------------------------------------------------
url <- "https://musicland.cl/producto/musica/vinilos/jorge-drexler-eco-lp/"
# Librerías -----------------------------------------------------------
library(xml2)
library(rvest)
library(tidyverse)
library(readxl)
library(openxlsx)
# Leyendo url
read_url <- read_html(url)
# Identificando página web
# Etrayendo información desde url
pag <- url %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
pag <- pag[2]
# Si la página es musicland
if(pag == "musicland"){
obs1 <- 2
# Leyendo el precio
precio   <- read_url %>%
html_nodes(".woocommerce-Price-amount") %>%
html_text()
precio <- precio[obs1]
# Leyendo el título y artista
titulo <- read_url %>%
html_nodes(".product-title") %>%
html_text();titulo
titulo  <- as.character(titulo[1])
titulo <- strsplit(titulo, split = "–")
titulo <- titulo[[1]]
artista <- titulo[1]
vinilo  <- titulo[2]
}
# Si la página es vinilospormayor
if(pag == "vinilospormayor"){
precio <- read_url %>%
html_nodes(".product__price") %>%
html_text()
precio <- substr(precio, start = 16, stop = 22)
titulo <- read_url %>%
html_nodes(".product-single__title") %>%
html_text()
tit <- titulo %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
artista <- paste(tit[1],"",tit[2],"",tit[3])           # Ajuste Manual
vinilo  <- paste(tit[4],"",tit[5]) # Ajuste Manual
}
# Creando data frame
nuevo_vinilo <- data.frame(artista, vinilo, precio, url)
# Guardando información
#vinilos_na <- read_excel("NA.xlsx") # solo para la primera vez
vinilos_na <- read_excel("vinilos.xlsx")
vinilos    <- rbind(vinilos_na, nuevo_vinilo) %>%
arrange(artista) %>%
filter(!is.na(precio))
vinilos <- distinct(vinilos)
# Exportando vinilo
wb <- createWorkbook()
addWorksheet(wb, sheetName = "vinilos", gridLines = TRUE)
writeData(wb = wb, sheet = "vinilos", x = vinilos)
saveWorkbook(wb = wb, file = "vinilos.xlsx",overwrite = TRUE)
vinilos
knitr::opts_chunk$set(echo = TRUE)
# Link ----------------------------------------------------------------
url <- "https://musicland.cl/producto/musica/vinilos/justin-timberlake-man-of-the-woods-2-lp/"
# Librerías -----------------------------------------------------------
library(xml2)
library(rvest)
library(tidyverse)
library(readxl)
library(openxlsx)
# Leyendo url
read_url <- read_html(url)
# Identificando página web
# Etrayendo información desde url
pag <- url %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
pag <- pag[2]
# Si la página es musicland
if(pag == "musicland"){
obs1 <- 2
# Leyendo el precio
precio   <- read_url %>%
html_nodes(".woocommerce-Price-amount") %>%
html_text()
precio <- precio[obs1]
# Leyendo el título y artista
titulo <- read_url %>%
html_nodes(".product-title") %>%
html_text();titulo
titulo  <- as.character(titulo[1])
titulo <- strsplit(titulo, split = "–")
titulo <- titulo[[1]]
artista <- titulo[1]
vinilo  <- titulo[2]
}
# Si la página es vinilospormayor
if(pag == "vinilospormayor"){
precio <- read_url %>%
html_nodes(".product__price") %>%
html_text()
precio <- substr(precio, start = 16, stop = 22)
titulo <- read_url %>%
html_nodes(".product-single__title") %>%
html_text()
tit <- titulo %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
artista <- paste(tit[1],"",tit[2],"",tit[3])           # Ajuste Manual
vinilo  <- paste(tit[4],"",tit[5]) # Ajuste Manual
}
# Creando data frame
nuevo_vinilo <- data.frame(artista, vinilo, precio, url)
# Guardando información
#vinilos_na <- read_excel("NA.xlsx") # solo para la primera vez
vinilos_na <- read_excel("vinilos.xlsx")
vinilos    <- rbind(vinilos_na, nuevo_vinilo) %>%
arrange(artista) %>%
filter(!is.na(precio))
vinilos <- distinct(vinilos)
# Exportando vinilo
wb <- createWorkbook()
addWorksheet(wb, sheetName = "vinilos", gridLines = TRUE)
writeData(wb = wb, sheet = "vinilos", x = vinilos)
saveWorkbook(wb = wb, file = "vinilos.xlsx",overwrite = TRUE)
vinilos
knitr::opts_chunk$set(echo = TRUE)
# Link ----------------------------------------------------------------
url <- "https://musicland.cl/producto/musica/vinilos/clash-the-london-calling-2-lp-2/"
# Librerías -----------------------------------------------------------
library(xml2)
library(rvest)
library(tidyverse)
library(readxl)
library(openxlsx)
# Leyendo url
read_url <- read_html(url)
# Identificando página web
# Etrayendo información desde url
pag <- url %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
pag <- pag[2]
# Si la página es musicland
if(pag == "musicland"){
obs1 <- 2
# Leyendo el precio
precio   <- read_url %>%
html_nodes(".woocommerce-Price-amount") %>%
html_text()
precio <- precio[obs1]
# Leyendo el título y artista
titulo <- read_url %>%
html_nodes(".product-title") %>%
html_text();titulo
titulo  <- as.character(titulo[1])
titulo <- strsplit(titulo, split = "–")
titulo <- titulo[[1]]
artista <- titulo[1]
vinilo  <- titulo[2]
}
# Si la página es vinilospormayor
if(pag == "vinilospormayor"){
precio <- read_url %>%
html_nodes(".product__price") %>%
html_text()
precio <- substr(precio, start = 16, stop = 22)
titulo <- read_url %>%
html_nodes(".product-single__title") %>%
html_text()
tit <- titulo %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
artista <- paste(tit[1],"",tit[2],"",tit[3])           # Ajuste Manual
vinilo  <- paste(tit[4],"",tit[5]) # Ajuste Manual
}
# Creando data frame
nuevo_vinilo <- data.frame(artista, vinilo, precio, url)
# Guardando información
#vinilos_na <- read_excel("NA.xlsx") # solo para la primera vez
vinilos_na <- read_excel("vinilos.xlsx")
vinilos    <- rbind(vinilos_na, nuevo_vinilo) %>%
arrange(artista) %>%
filter(!is.na(precio))
vinilos <- distinct(vinilos)
# Exportando vinilo
wb <- createWorkbook()
addWorksheet(wb, sheetName = "vinilos", gridLines = TRUE)
writeData(wb = wb, sheet = "vinilos", x = vinilos)
saveWorkbook(wb = wb, file = "vinilos.xlsx",overwrite = TRUE)
vinilos
knitr::opts_chunk$set(echo = TRUE)
# Link ----------------------------------------------------------------
url <- "https://musicland.cl/producto/musica/vinilos/pink-floyd-the-wall-2-lp/"
# Librerías -----------------------------------------------------------
library(xml2)
library(rvest)
library(tidyverse)
library(readxl)
library(openxlsx)
# Leyendo url
read_url <- read_html(url)
# Identificando página web
# Etrayendo información desde url
pag <- url %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
pag <- pag[2]
# Si la página es musicland
if(pag == "musicland"){
obs1 <- 2
# Leyendo el precio
precio   <- read_url %>%
html_nodes(".woocommerce-Price-amount") %>%
html_text()
precio <- precio[obs1]
# Leyendo el título y artista
titulo <- read_url %>%
html_nodes(".product-title") %>%
html_text();titulo
titulo  <- as.character(titulo[1])
titulo <- strsplit(titulo, split = "–")
titulo <- titulo[[1]]
artista <- titulo[1]
vinilo  <- titulo[2]
}
# Si la página es vinilospormayor
if(pag == "vinilospormayor"){
precio <- read_url %>%
html_nodes(".product__price") %>%
html_text()
precio <- substr(precio, start = 16, stop = 22)
titulo <- read_url %>%
html_nodes(".product-single__title") %>%
html_text()
tit <- titulo %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
artista <- paste(tit[1],"",tit[2],"",tit[3])           # Ajuste Manual
vinilo  <- paste(tit[4],"",tit[5]) # Ajuste Manual
}
# Creando data frame
nuevo_vinilo <- data.frame(artista, vinilo, precio, url)
# Guardando información
#vinilos_na <- read_excel("NA.xlsx") # solo para la primera vez
vinilos_na <- read_excel("vinilos.xlsx")
vinilos    <- rbind(vinilos_na, nuevo_vinilo) %>%
arrange(artista) %>%
filter(!is.na(precio))
vinilos <- distinct(vinilos)
# Exportando vinilo
wb <- createWorkbook()
addWorksheet(wb, sheetName = "vinilos", gridLines = TRUE)
writeData(wb = wb, sheet = "vinilos", x = vinilos)
saveWorkbook(wb = wb, file = "vinilos.xlsx",overwrite = TRUE)
vinilos
knitr::opts_chunk$set(echo = TRUE)
# Link ----------------------------------------------------------------
url <- "https://musicland.cl/producto/musica/vinilos/pink-floyd-animals-lp/"
# Librerías -----------------------------------------------------------
library(xml2)
library(rvest)
library(tidyverse)
library(readxl)
library(openxlsx)
# Leyendo url
read_url <- read_html(url)
# Identificando página web
# Etrayendo información desde url
pag <- url %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
pag <- pag[2]
# Si la página es musicland
if(pag == "musicland"){
obs1 <- 2
# Leyendo el precio
precio   <- read_url %>%
html_nodes(".woocommerce-Price-amount") %>%
html_text()
precio <- precio[obs1]
# Leyendo el título y artista
titulo <- read_url %>%
html_nodes(".product-title") %>%
html_text();titulo
titulo  <- as.character(titulo[1])
titulo <- strsplit(titulo, split = "–")
titulo <- titulo[[1]]
artista <- titulo[1]
vinilo  <- titulo[2]
}
# Si la página es vinilospormayor
if(pag == "vinilospormayor"){
precio <- read_url %>%
html_nodes(".product__price") %>%
html_text()
precio <- substr(precio, start = 16, stop = 22)
titulo <- read_url %>%
html_nodes(".product-single__title") %>%
html_text()
tit <- titulo %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
artista <- paste(tit[1],"",tit[2],"",tit[3])           # Ajuste Manual
vinilo  <- paste(tit[4],"",tit[5]) # Ajuste Manual
}
# Creando data frame
nuevo_vinilo <- data.frame(artista, vinilo, precio, url)
# Guardando información
#vinilos_na <- read_excel("NA.xlsx") # solo para la primera vez
vinilos_na <- read_excel("vinilos.xlsx")
vinilos    <- rbind(vinilos_na, nuevo_vinilo) %>%
arrange(artista) %>%
filter(!is.na(precio))
vinilos <- distinct(vinilos)
# Exportando vinilo
wb <- createWorkbook()
addWorksheet(wb, sheetName = "vinilos", gridLines = TRUE)
writeData(wb = wb, sheet = "vinilos", x = vinilos)
saveWorkbook(wb = wb, file = "vinilos.xlsx",overwrite = TRUE)
vinilos
knitr::opts_chunk$set(echo = TRUE)
# Link ----------------------------------------------------------------
url <- "https://musicland.cl/producto/musica/vinilos/deftones-around-the-fur-lp/"
# Librerías -----------------------------------------------------------
library(xml2)
library(rvest)
library(tidyverse)
library(readxl)
library(openxlsx)
# Leyendo url
read_url <- read_html(url)
# Identificando página web
# Etrayendo información desde url
pag <- url %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
pag <- pag[2]
# Si la página es musicland
if(pag == "musicland"){
obs1 <- 2
# Leyendo el precio
precio   <- read_url %>%
html_nodes(".woocommerce-Price-amount") %>%
html_text()
precio <- precio[obs1]
# Leyendo el título y artista
titulo <- read_url %>%
html_nodes(".product-title") %>%
html_text();titulo
titulo  <- as.character(titulo[1])
titulo <- strsplit(titulo, split = "–")
titulo <- titulo[[1]]
artista <- titulo[1]
vinilo  <- titulo[2]
}
# Si la página es vinilospormayor
if(pag == "vinilospormayor"){
precio <- read_url %>%
html_nodes(".product__price") %>%
html_text()
precio <- substr(precio, start = 16, stop = 22)
titulo <- read_url %>%
html_nodes(".product-single__title") %>%
html_text()
tit <- titulo %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
artista <- paste(tit[1],"",tit[2],"",tit[3])           # Ajuste Manual
vinilo  <- paste(tit[4],"",tit[5]) # Ajuste Manual
}
# Creando data frame
nuevo_vinilo <- data.frame(artista, vinilo, precio, url)
# Guardando información
#vinilos_na <- read_excel("NA.xlsx") # solo para la primera vez
vinilos_na <- read_excel("vinilos.xlsx")
vinilos    <- rbind(vinilos_na, nuevo_vinilo) %>%
arrange(artista) %>%
filter(!is.na(precio))
vinilos <- distinct(vinilos)
# Exportando vinilo
wb <- createWorkbook()
addWorksheet(wb, sheetName = "vinilos", gridLines = TRUE)
writeData(wb = wb, sheet = "vinilos", x = vinilos)
saveWorkbook(wb = wb, file = "vinilos.xlsx",overwrite = TRUE)
vinilos
knitr::opts_chunk$set(echo = TRUE)
# Link ----------------------------------------------------------------
url <- "https://musicland.cl/producto/musica/vinilos/fito-paez-circo-beat-vinilo-2lp/"
# Librerías -----------------------------------------------------------
library(xml2)
library(rvest)
library(tidyverse)
library(readxl)
library(openxlsx)
# Leyendo url
read_url <- read_html(url)
# Identificando página web
# Etrayendo información desde url
pag <- url %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
pag <- pag[2]
# Si la página es musicland
if(pag == "musicland"){
obs1 <- 2
# Leyendo el precio
precio   <- read_url %>%
html_nodes(".woocommerce-Price-amount") %>%
html_text()
precio <- precio[obs1]
# Leyendo el título y artista
titulo <- read_url %>%
html_nodes(".product-title") %>%
html_text();titulo
titulo  <- as.character(titulo[1])
titulo <- strsplit(titulo, split = "–")
titulo <- titulo[[1]]
artista <- titulo[1]
vinilo  <- titulo[2]
}
# Si la página es vinilospormayor
if(pag == "vinilospormayor"){
precio <- read_url %>%
html_nodes(".product__price") %>%
html_text()
precio <- substr(precio, start = 16, stop = 22)
titulo <- read_url %>%
html_nodes(".product-single__title") %>%
html_text()
tit <- titulo %>%
str_extract_all('[:alpha:]+') %>%
unlist() %>%
as.character(paste(collapse = '-'))
artista <- paste(tit[1],"",tit[2],"",tit[3])           # Ajuste Manual
vinilo  <- paste(tit[4],"",tit[5]) # Ajuste Manual
}
# Creando data frame
nuevo_vinilo <- data.frame(artista, vinilo, precio, url)
# Guardando información
#vinilos_na <- read_excel("NA.xlsx") # solo para la primera vez
vinilos_na <- read_excel("vinilos.xlsx")
vinilos    <- rbind(vinilos_na, nuevo_vinilo) %>%
arrange(artista) %>%
filter(!is.na(precio))
vinilos <- distinct(vinilos)
# Exportando vinilo
wb <- createWorkbook()
addWorksheet(wb, sheetName = "vinilos", gridLines = TRUE)
writeData(wb = wb, sheet = "vinilos", x = vinilos)
saveWorkbook(wb = wb, file = "vinilos.xlsx",overwrite = TRUE)
vinilos
